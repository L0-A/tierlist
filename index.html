<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë””ì½”ë°© í‹°ì–´ ë¦¬ìŠ¤íŠ¸ (ìµœì¢…)</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        
        /* ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ */
        .input-area { margin-bottom: 20px; }
        input { padding: 8px; font-size: 16px; }
        button { padding: 8px 15px; font-size: 16px; cursor: pointer; }

        /* í‹°ì–´ í–‰(Row) ìŠ¤íƒ€ì¼ */
        .tier-row {
            display: flex;
            border: 1px solid #ccc;
            min-height: 80px;
            margin-bottom: 5px;
        }

        /* í‹°ì–´ ë¼ë²¨ */
        .tier-label {
            width: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 24px;
            color: white;
            flex-shrink: 0;
        }

        /* ë“œë¡­ êµ¬ì—­ */
        .drop-zone {
            flex-grow: 1;
            padding: 10px;
            background-color: #f9f9f9;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        /* ë“œë˜ê·¸í•  ì•„ì´í…œ */
        .draggable-item {
            padding: 8px 15px;
            background-color: #333;
            color: white;
            border-radius: 4px;
            cursor: grab;
            user-select: none;
            transition: background-color 0.2s; /* ë¶€ë“œëŸ¬ìš´ íš¨ê³¼ */
        }
        
        /* ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ ì‚­ì œ ê°€ëŠ¥í•˜ë‹¤ëŠ” ëŠë‚Œ ì£¼ê¸° */
        .draggable-item:hover {
            background-color: #555; 
            cursor: grab;
        }
        
        /* ëŒ€ê¸°ì‹¤ */
        #waiting-room {
            border: 2px dashed #aaa;
            padding: 10px;
            min-height: 100px;
            margin-top: 20px;
            background-color: #eee;
        }

        /* í‹°ì–´ë³„ ìƒ‰ìƒ */
        .s-tier { background-color: #ff7f7f; }
        .a-tier { background-color: #ffbf7f; }
        .b-tier { background-color: #ffdf7f; }
        .c-tier { background-color: #ffff7f; color: black; }
        .d-tier { background-color: #bfff7f; color: black; }
        .e-tier { background-color: #7fff7f; color: black; }
    </style>
</head>
<body>

    <h1>ë””ì½”ë°© í‹°ì–´ ë¦¬ìŠ¤íŠ¸</h1>
    <p style="color: gray; font-size: 14px;">ğŸ’¡ íŒ: ì´ë¦„ì„ ë”ë¸” í´ë¦­í•˜ë©´ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

    <div class="input-area">
        <input type="text" id="nameInput" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" onkeypress="handleEnter(event)">
        <button onclick="addName()">ì¶”ê°€í•˜ê¸°</button>
    </div>

    <div class="tier-container">
        <div class="tier-row">
            <div class="tier-label s-tier">S</div>
            <div class="drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        </div>
        <div class="tier-row">
            <div class="tier-label a-tier">A</div>
            <div class="drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        </div>
        <div class="tier-row">
            <div class="tier-label b-tier">B</div>
            <div class="drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        </div>
        <div class="tier-row">
            <div class="tier-label c-tier">C</div>
            <div class="drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        </div>
        <div class="tier-row">
            <div class="tier-label d-tier">D</div>
            <div class="drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        </div>
         <div class="tier-row">
            <div class="tier-label e-tier">E</div>
            <div class="drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        </div>
    </div>

    <h3>ëŒ€ê¸°ì‹¤ (ì—¬ê¸°ì— ìƒì„±ë¨)</h3>
    <div id="waiting-room" class="drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
    </div>

    <script>
        let itemCount = 0;

        function addName() {
            const input = document.getElementById('nameInput');
            const name = input.value.trim();
            
            if (name === "") return;

            // ì¤‘ë³µ ì²´í¬
            const existingItems = document.querySelectorAll('.draggable-item');
            for (let item of existingItems) {
                if (item.innerText === name) {
                    alert("ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë¦„ì…ë‹ˆë‹¤!");
                    input.value = "";
                    input.focus();
                    return;
                }
            }

            const newItem = document.createElement('div');
            itemCount++;
            
            newItem.id = "item-" + itemCount;
            newItem.className = "draggable-item";
            newItem.innerText = name;
            newItem.draggable = true;
            
            // ë“œë˜ê·¸ ì‹œì‘ ì´ë²¤íŠ¸
            newItem.ondragstart = drag;

            // --- [ì¶”ê°€ëœ ë¶€ë¶„] ë”ë¸” í´ë¦­ ì‹œ ì‚­ì œ ì´ë²¤íŠ¸ ---
            newItem.ondblclick = function() {
                if (confirm("'" + name + "'ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                    newItem.remove(); // ìš”ì†Œ ì‚­ì œ
                }
            };
            // ------------------------------------------

            document.getElementById('waiting-room').appendChild(newItem);
            
            input.value = "";
            input.focus();
        }

        function handleEnter(e) {
            if (e.key === 'Enter') addName();
        }

        function allowDrop(ev) {
            ev.preventDefault();
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.id);
        }

        function drop(ev) {
            ev.preventDefault();
            var data = ev.dataTransfer.getData("text");
            if (ev.target.classList.contains('drop-zone')) {
                ev.target.appendChild(document.getElementById(data));
            } else {
                ev.target.closest('.drop-zone').appendChild(document.getElementById(data));
            }
        }
    </script>
</body>
</html>